
<VirtualHost *:80>
     ServerAdmin info@buildmantra.com
     DocumentRoot /var/www/customer
     ServerName www.bmnt.in
     ServerAlias bmnt.in
     
     <Directory "var/www/customer">
        Order allow,deny
        Allow from all
        AllowOverride All
    </Directory>
     
     ErrorLog /var/www/logs/customer/error.log
     LogFormat "%h %l %u %t \"%r\" %>s %b" common
     CustomLog /var/www/logs/customer/request.log common


     ExpiresActive On
     ExpiresByType image/gif "access plus 1 months"
     ExpiresByType image/jpg "access plus 1 months"
     ExpiresByType image/jpeg "access plus 1 months"
     ExpiresByType image/png "access plus 1 months"
     ExpiresByType image/vnd.microsoft.icon "access plus 1 months"
     ExpiresByType image/x-icon "access plus 1 months"
     ExpiresByType image/ico "access plus 1 year"
     ExpiresByType image/vnd.microsoft.icon "access plus 1 year"
     ExpiresByType application/javascript "now plus 1 months"
     ExpiresByType application/x-javascript "now plus 1 months"
     ExpiresByType text/javascript "now plus 1 months"
     ExpiresByType text/css "now plus 1 months"
     ExpiresDefault "access plus 1 days"

     Header unset ETag
     FileETag None

</VirtualHost>


/////////////////////// HTACCESS /////////////////////


<IfModule mod_rewrite.c>

RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php/$0 [PT,L]

</IfModule>


#############
# TYPES FIX #
#############
AddType text/css .css
AddType text/javascript .js
AddType application/javascript .js


# compress text, HTML, JavaScript, CSS, and XML
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE text/javascript
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript

# remove browser bugs
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
Header append Vary User-Agent



